--------------------------------------------------------
--  DDL for Procedure P_ALTAPARAMPROD
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "AXIS"."P_ALTAPARAMPROD" (PARAM PARPRODUCTOS.CPARPRO%TYPE,CVALOR PARPRODUCTOS.CVALPAR%TYPE) IS
 CURSOR  C1 IS SELECT SPRODUC
 		 	   FROM PRODUCTOS;
BEGIN
	 INSERT INTO CODPARPROD (CPARPRO) VALUES (PARAM);
	 FOR i IN c1 LOOP
	  INSERT INTO PARPRODUCTOS (SPRODUC,CPARPRO,CVALPAR) VALUES (I.SPRODUC,PARAM,CVALOR);
	 END LOOP;
	 COMMIT;
 EXCEPTION
 WHEN OTHERS THEN
 DBMS_OUTPUT.PUT_LINE(SQLERRM);
 ROLLBACK;
END;

 
 

/

  GRANT EXECUTE ON "AXIS"."P_ALTAPARAMPROD" TO "R_AXIS";
  GRANT EXECUTE ON "AXIS"."P_ALTAPARAMPROD" TO "CONF_DWH";
  GRANT EXECUTE ON "AXIS"."P_ALTAPARAMPROD" TO "PROGRAMADORESCSI";
