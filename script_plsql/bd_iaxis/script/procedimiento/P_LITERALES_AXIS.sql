--------------------------------------------------------
--  DDL for Procedure P_LITERALES_AXIS
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "AXIS"."P_LITERALES_AXIS" IS
  PRAGMA AUTONOMOUS_TRANSACTION;
  /*COMMMIT AUTONOMO*/

BEGIN
  INSERT INTO CODLITERALES(SLITERA,CLITERA)/*cabecera de los nuevos*/
  SELECT SLITERA,CLITERA
  FROM CODLITERALES_AXIS
  MINUS
  SELECT SLITERA,CLITERA
  FROM CODLITERALES;

  INSERT INTO LITERALES(CIDIOMA,SLITERA,TLITERA) /* detalle de los nuevos*/
  SELECT CIDIOMA,SLITERA,TLITERA
  FROM LITERALES_AXIS L1
  WHERE NOT EXISTS( SELECT CIDIOMA,SLITERA
                    FROM LITERALES
					WHERE SLITERA = L1.SLITERA
					  AND CIDIOMA = L1.CIDIOMA);

 COMMIT;
EXCEPTION
 WHEN OTHERS THEN
  ROLLBACK;
END p_literales_axis;

 
 

/

  GRANT EXECUTE ON "AXIS"."P_LITERALES_AXIS" TO "CONF_DWH";
  GRANT EXECUTE ON "AXIS"."P_LITERALES_AXIS" TO "PROGRAMADORESCSI";
  GRANT EXECUTE ON "AXIS"."P_LITERALES_AXIS" TO "R_AXIS";
