--------------------------------------------------------
--  DDL for Function F_CREACCC
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "AXIS"."F_CREACCC" (PCDOMENT IN NUMBER, PCDOMSUC IN NUMBER, PCDIGCON IN
		     VARCHAR2, PNCUENTA IN NUMBER) RETURN VARCHAR2
authid current_user IS
-- RETORNA EL COMPTE CORRENT COM UN VARCHAR DE 20,
-- A PARTIR DELS QUATRE PARÀMETRES ENTRATS : ENTITAT, SUCURSAL, DÍGIT DE
-- CONTROL I NOMBRE DE COMPTE.
PTSALIDA  VARCHAR2(20);
XCDOMENT  NUMBER;
XCDOMSUC  NUMBER;
XNCUENTA  NUMBER;
XCDIGCON  NUMBER;
BEGIN
XCDOMENT := NVL(PCDOMENT, 0);
XCDOMSUC := NVL(PCDOMSUC, 0);
XNCUENTA := NVL(PNCUENTA, 0);
BEGIN
XCDIGCON := TO_NUMBER(NVL(PCDIGCON, 0));
EXCEPTION
WHEN OTHERS THEN
XCDIGCON := 0;
END;
PTSALIDA := LPAD(XCDOMENT, 4, '0') || LPAD(XCDOMSUC, 4, '0') ||
		  LPAD(XCDIGCON, 2, '0') || LPAD(XNCUENTA, 10, '0');
RETURN PTSALIDA;
END;
 
 

/

  GRANT EXECUTE ON "AXIS"."F_CREACCC" TO "R_AXIS";
  GRANT EXECUTE ON "AXIS"."F_CREACCC" TO "CONF_DWH";
  GRANT EXECUTE ON "AXIS"."F_CREACCC" TO "PROGRAMADORESCSI";
