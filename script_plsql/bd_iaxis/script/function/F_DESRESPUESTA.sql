--------------------------------------------------------
--  DDL for Function F_DESRESPUESTA
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "AXIS"."F_DESRESPUESTA" (PCRESPUE IN NUMBER, PCPREGUN IN NUMBER, PCIDIOMA IN
			NUMBER, PTRESPUE OUT VARCHAR2) RETURN NUMBER
authid current_user IS
XTRESPUE  VARCHAR2(40);
BEGIN
SELECT TRESPUE
INTO  XTRESPUE
FROM RESPUESTAS
WHERE CRESPUE = PCRESPUE AND CPREGUN = PCPREGUN AND CIDIOMA = PCIDIOMA;
PTRESPUE := XTRESPUE;
RETURN 0;
EXCEPTION
WHEN NO_DATA_FOUND THEN
RETURN 102742;	-- RESPOSTA NO TROBADA A LA TAULA RESPUESTAS
WHEN OTHERS THEN
RETURN 101916;	-- ERROR A LA B.D.
END;

 
 

/

  GRANT EXECUTE ON "AXIS"."F_DESRESPUESTA" TO "R_AXIS";
  GRANT EXECUTE ON "AXIS"."F_DESRESPUESTA" TO "CONF_DWH";
  GRANT EXECUTE ON "AXIS"."F_DESRESPUESTA" TO "PROGRAMADORESCSI";
