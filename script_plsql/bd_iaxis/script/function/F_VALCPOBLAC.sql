--------------------------------------------------------
--  DDL for Function F_VALCPOBLAC
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "AXIS"."F_VALCPOBLAC" (PCPOBLAC IN NUMBER, PCPROVIN IN NUMBER,
	PTPOBLAC OUT VARCHAR2) RETURN NUMBER authid current_user IS
--
-- 	VALIDA QUE LA POBLACIÓ PCPOBLAC PERTANYI
-- A LA PROVINCIA PCPROVIN.
--
BEGIN
	SELECT TPOBLAC INTO PTPOBLAC
	FROM POBLACIONES
	WHERE CPOBLAC = PCPOBLAC
	AND CPROVIN = PCPROVIN;
	RETURN(0);
EXCEPTION
	WHEN OTHERS THEN
		RETURN(101091);
END;
 
 

/

  GRANT EXECUTE ON "AXIS"."F_VALCPOBLAC" TO "R_AXIS";
  GRANT EXECUTE ON "AXIS"."F_VALCPOBLAC" TO "CONF_DWH";
  GRANT EXECUTE ON "AXIS"."F_VALCPOBLAC" TO "PROGRAMADORESCSI";
