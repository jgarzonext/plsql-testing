/* Formatted on 21/10/2019*/
/* **************************** 21/10/2019 **********************************************************************
Versión           Descripción
01.               -Configuracion para los procesos nuevos de migracion definitiva y unitaria ´para las tablas
                  'FIN_GENERAL_DET','COMRECIBO' y 'PER_INDICADORES'. 
IAXIS-5799        21/10/2019 Erick Zoque
***********************************************************************************************************************/
BEGIN
  --
  DELETE MIG_CARGAS WHERE NCARGA IN(17491,17490,17489);
  DELETE MIG_CARGAS_TAB_MIG WHERE NCARGA IN(17491,17490,17489);
  DELETE MIG_ORDEN_AXIS WHERE TABLA IN('FIN_GENERAL_DET','COMRECIBO','PER_INDICADORES');
  --
  INSERT INTO MIG_CARGAS (NCARGA, CEMPRES, FINIORG, FFINORG, ESTORG, ID)
  VALUES (17489, '24', TRUNC(SYSDATE), TRUNC(SYSDATE), 'OK', 'MIG_FIN_GENERAL_DET_TXT');
  INSERT INTO MIG_CARGAS (NCARGA, CEMPRES, FINIORG, FFINORG, ESTORG, ID)
  VALUES (17490, '24', TRUNC(SYSDATE), TRUNC(SYSDATE), 'OK', 'MIG_COMRECIBO_TXT');
  INSERT INTO MIG_CARGAS (NCARGA, CEMPRES, FINIORG, FFINORG, ESTORG, ID)
  VALUES (17491, '24', TRUNC(SYSDATE), TRUNC(SYSDATE), 'OK', 'MIG_PER_INDICADORES_TXT');
  --
  INSERT INTO MIG_CARGAS_TAB_MIG (NCARGA, NTAB, TAB_ORG, TAB_DES, FINIDES, FFINDES, ESTDES)
  VALUES (17489, 94, 'Inserts Directos', 'MIG_FIN_GENERAL_DET', NULL, NULL, NULL);
  INSERT INTO MIG_CARGAS_TAB_MIG (NCARGA, NTAB, TAB_ORG, TAB_DES, FINIDES, FFINDES, ESTDES)
  VALUES (17490, 95, 'Inserts Directos', 'MIG_COMRECIBO', NULL, NULL, NULL);
  INSERT INTO MIG_CARGAS_TAB_MIG (NCARGA, NTAB, TAB_ORG, TAB_DES, FINIDES, FFINDES, ESTDES)
  VALUES (17491, 96, 'Inserts Directos', 'MIG_PER_INDICADORES', NULL, NULL, NULL);
  --
  INSERT INTO MIG_ORDEN_AXIS (TABLA, NORDEN, TFUNCION)
  VALUES ('COMRECIBO', 3392, 'pac_mig_axis_conf.f_migra_comrecibo');
  INSERT INTO MIG_ORDEN_AXIS (TABLA, NORDEN, TFUNCION)
  VALUES ('FIN_GENERAL_DET', 3391, 'pac_mig_axis_conf.f_migra_fin_general_det');
  INSERT INTO MIG_ORDEN_AXIS (TABLA, NORDEN, TFUNCION)
  VALUES ('PER_INDICADORES', 3431, 'pac_mig_axis_conf.f_migra_per_indicadores');
  --
  COMMIT;
EXCEPTION
   WHEN OTHERS THEN
     DBMS_OUTPUT.PUT_LINE('ERROR OCCURED-->'||SQLERRM);
     DBMS_OUTPUT.PUT_LINE('ERROR OCCURED-->'||DBMS_UTILITY.FORMAT_ERROR_BACKTRACE);
     ROLLBACK;
END;
/