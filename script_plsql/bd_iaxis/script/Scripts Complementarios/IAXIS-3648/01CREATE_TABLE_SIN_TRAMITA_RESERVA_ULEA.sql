DROP TABLE "SIN_TRAMITA_RESERVA_ULEA";
  CREATE TABLE "SIN_TRAMITA_RESERVA_ULEA" 
   (	"NSINIES" VARCHAR2(14 BYTE) CONSTRAINT "SIN_TRARESULEAULEA_NSINIES_NN" NOT NULL ENABLE, 
	
	"CGARANT" NUMBER(4,0), 
	"TGARANT" VARCHAR2(120 BYTE) CONSTRAINT "SIN_TRARESULEAULEA_TGARANT_NN" NOT NULL ENABLE,
	"CMONRES" VARCHAR2(3 BYTE) CONSTRAINT "SIN_TRARESULEA_CMONRES_NN" NOT NULL ENABLE, 
	"IRESERVA" NUMBER CONSTRAINT "SIN_TRARESULEA_IRESERVA_NN" NOT NULL ENABLE, 
    "FEMISIO" DATE,
	 "CRAMO" NUMBER(8,0) CONSTRAINT "SIN_TRARESULEAULEA_CRAMO_NN" NOT NULL ENABLE,
     "TRAMO" VARCHAR2(120 BYTE) CONSTRAINT "SIN_TRARESULEAULEA_TRAMO_NN" NOT NULL ENABLE,
     "VALORULEA" NUMBER CONSTRAINT "SIN_TRARESULEA_VALORULEA_NN" NOT NULL ENABLE, 
	"FRESINI" DATE, 
	"FRESFIN" DATE, 
    "IDRES" NUMBER NOT NULL ENABLE,
    "ICAPRIE_MONCIA" NUMBER,
	"NMOVRES" NUMBER(4,0) CONSTRAINT "SIN_TRARESULEA_NMOVRES_NN" NOT NULL ENABLE,
	"CUSUALT" VARCHAR2(20 BYTE) CONSTRAINT "SIN_TRARESULEA_CUSUALT_NN" NOT NULL ENABLE, 
	"FALTA" DATE CONSTRAINT "SIN_TRARESULEA_FALTA_NN" NOT NULL ENABLE ,
    "ESTADO" VARCHAR2(20 BYTE) CONSTRAINT "SIN_TRARESULEA_ESTADO_NN" NOT NULL ENABLE
	
	
   )  ;

   COMMENT ON COLUMN "SIN_TRAMITA_RESERVA_ULEA"."NSINIES" IS 'Número Siniestro';
   
   COMMENT ON COLUMN "SIN_TRAMITA_RESERVA_ULEA"."CGARANT" IS 'Código Garantía';
   COMMENT ON COLUMN "SIN_TRAMITA_RESERVA_ULEA"."TGARANT" IS 'Descripción de garantía';
   COMMENT ON COLUMN "SIN_TRAMITA_RESERVA_ULEA"."CMONRES" IS 'Código Moneda Reserva';
   COMMENT ON COLUMN "SIN_TRAMITA_RESERVA_ULEA"."IRESERVA" IS 'Importe reserva sin impuestos ni retenciones';
   COMMENT ON COLUMN "SIN_TRAMITA_RESERVA_ULEA"."FEMISIO" IS 'Fecha de emisión';
   COMMENT ON COLUMN "SIN_TRAMITA_RESERVA_ULEA"."CRAMO" IS 'Código ramo';
   COMMENT ON COLUMN "SIN_TRAMITA_RESERVA_ULEA"."TRAMO" IS 'Descripción de Ramo';
   COMMENT ON COLUMN "SIN_TRAMITA_RESERVA_ULEA"."IRESERVA" IS 'Valor parametro ulea';
   COMMENT ON COLUMN "SIN_TRAMITA_RESERVA_ULEA"."FRESINI" IS 'Fecha Inicio Reserva';
   COMMENT ON COLUMN "SIN_TRAMITA_RESERVA_ULEA"."FRESFIN" IS 'Fecha Fin Reserva';
   COMMENT ON COLUMN "SIN_TRAMITA_RESERVA_ULEA"."IDRES" IS 'Identificador de reserva dentro de un siniestro';
   COMMENT ON COLUMN "SIN_TRAMITA_RESERVA_ULEA"."ICAPRIE_MONCIA" IS 'Importe capital riesgo en la moneda de la empresa';
   COMMENT ON COLUMN "SIN_TRAMITA_RESERVA_ULEA"."NMOVRES" IS 'Número Movimiento Reserva';
   COMMENT ON COLUMN "SIN_TRAMITA_RESERVA_ULEA"."CUSUALT" IS 'Código Usuario Alta';
   COMMENT ON COLUMN "SIN_TRAMITA_RESERVA_ULEA"."FALTA" IS 'Fecha Alta';
   COMMENT ON COLUMN "SIN_TRAMITA_RESERVA_ULEA"."ESTADO" IS 'Estado (insertado,visualizado)';
   

  

  CREATE OR REPLACE EDITIONABLE TRIGGER "WHO_SIN_TRAMITA_RESERVA_ULEA" 
   BEFORE INSERT OR UPDATE
   ON SIN_TRAMITA_RESERVA_ULEA
   FOR EACH ROW
BEGIN
   IF :OLD.nsinies IS NULL THEN   -- (Es insert)
      :NEW.cusualt := f_user;
      :NEW.falta := f_sysdate;
   
   END IF;
END WHO_SIN_TRAMITA_RESERVA_ULEA;










/
ALTER TRIGGER "WHO_SIN_TRAMITA_RESERVA_ULEA" ENABLE;
